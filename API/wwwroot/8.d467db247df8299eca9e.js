(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{TyWN:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminBrandModule",function(){return F});var r=n("SVse"),i=n("PCNd"),s=n("iInd"),b=n("PSD3"),a=n.n(b),c=n("8Y7J"),d=n("lJxs"),o=n("AytR"),u=n("IheW");let l=(()=>{class t{constructor(t){this.http=t,this.baseUrl=o.a.apiUrl,this.brands=[]}getBrands(){return this.http.get(this.baseUrl+"products/brands").pipe(Object(d.a)(t=>(this.brands=t,t)))}getBrandById(t){return this.http.get(this.baseUrl+"brands/"+t)}createBrand(t){return this.http.post(this.baseUrl+"brands",t)}updateBrand(t,e){return this.http.put(this.baseUrl+"brands/"+t,e)}deleteBrand(t){return this.http.delete(this.baseUrl+"brands/"+t)}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(u.b))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m=function(t){return["edit",t]};function p(t,e){if(1&t){const t=c.Wb();c.Vb(0,"tr"),c.Vb(1,"th",15),c.Vb(2,"h5"),c.Lc(3),c.Ub(),c.Ub(),c.Vb(4,"td",15),c.Lc(5),c.Ub(),c.Vb(6,"td",15),c.Vb(7,"button",16),c.Lc(8," Edit "),c.Ub(),c.Ub(),c.Vb(9,"td",15),c.Vb(10,"button",17),c.cc("click",function(){c.Bc(t);const n=e.$implicit;return c.gc(2).deleteBrand(n.id)}),c.Lc(11,"Delete"),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=e.$implicit;c.Cb(3),c.Mc(t.id),c.Cb(2),c.Nc(" ",t.name," "),c.Cb(2),c.mc("routerLink",c.qc(3,m,t.id))}}const h=function(){return["/admin-brand/create"]};function f(t,e){if(1&t&&(c.Vb(0,"section",1),c.Vb(1,"div",2),c.Vb(2,"div",3),c.Vb(3,"div",4),c.Vb(4,"div",5),c.Vb(5,"div",6),c.Vb(6,"header",7),c.Lc(7,"Brand List"),c.Ub(),c.Vb(8,"button",8),c.Lc(9," Create new brand "),c.Ub(),c.Ub(),c.Vb(10,"div",9),c.Vb(11,"table",10),c.Vb(12,"thead"),c.Vb(13,"tr"),c.Vb(14,"th",11),c.Vb(15,"div",12),c.Lc(16,"Id"),c.Ub(),c.Ub(),c.Vb(17,"th",11),c.Vb(18,"div",13),c.Lc(19,"Name"),c.Ub(),c.Ub(),c.Vb(20,"th",11),c.Vb(21,"div",12),c.Lc(22,"Edit"),c.Ub(),c.Ub(),c.Vb(23,"th",11),c.Vb(24,"div",12),c.Lc(25,"Delete"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(26,"tbody"),c.Jc(27,p,12,5,"tr",14),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&t){const t=c.gc();c.Cb(8),c.mc("routerLink",c.pc(2,h)),c.Cb(19),c.mc("ngForOf",t.brands)}}let g=(()=>{class t{constructor(t){this.brandService=t}ngOnInit(){this.getBrands()}getBrands(){return this.brandService.getBrands().subscribe(t=>{this.brands=t,console.log(this.brands)},t=>{console.log(t)})}deleteBrand(t){a.a.fire({title:"Are you sure?",text:"Do you want to really delete ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes!",cancelButtonText:"No"}).then(e=>{e.value&&(this.brandService.deleteBrand(t).subscribe(e=>{this.brands.splice(this.brands.findIndex(e=>e.id===t),1)}),a.a.fire("Deleted!","User has been deleted.","success"))})}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(l))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-admin-brand"]],decls:1,vars:1,consts:[["class","admin-page",4,"ngIf"],[1,"admin-page"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"col-auto"],[1,"d-flex","justify-content-between","my-3"],[1,"h2"],[1,"btn","btn-outline-success",3,"routerLink"],[1,"table-responsive"],[1,"table","center"],["scope","col"],[1,"p-2","text-uppercase","text-center"],[1,"py-2","text-uppercase","text-center"],[4,"ngFor","ngForOf"],[1,"align-middle","text-center"],[1,"btn","btn-warning",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&c.Jc(0,f,28,3,"section",0),2&t&&c.mc("ngIf",e.brands)},directives:[r.n,s.d,r.m],styles:[""]}),t})();class U{constructor(t){this.name="",Object.assign(this,t)}}var v=n("2ZVE"),V=n("EApP"),y=n("s7LF");function B(t,e){1&t&&(c.Vb(0,"div"),c.Lc(1,"Name brand is required"),c.Ub())}function w(t,e){if(1&t&&(c.Vb(0,"div",12),c.Jc(1,B,2,0,"div",13),c.Ub()),2&t){c.gc();const t=c.xc(10);c.Cb(1),c.mc("ngIf",null==t.errors?null:t.errors.required)}}const C=function(t){return{"is-invalid":t}};let L=(()=>{class t{constructor(t,e,n,r){this.route=t,this.adminService=e,this.router=n,this.toastr=r}ngOnInit(){}onSubmit(t){console.log(this.brandForm),"edit"===this.route.snapshot.url[0].path?this.adminService.updateBrand(this.route.snapshot.paramMap.get("id"),t).subscribe(t=>{this.router.navigate(["/admin-brand"]),this.toastr.success("Update brand successful")},t=>{this.toastr.error(t.message)}):this.adminService.createBrand(t).subscribe(t=>{this.router.navigate(["/admin-brand"]),this.toastr.success("Create brand successful")},t=>{this.toastr.error(t.message)})}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(s.a),c.Pb(l),c.Pb(s.c),c.Pb(V.b))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-edit-brand-form"]],inputs:{brandForm:"brandForm"},decls:14,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"mt-4",3,"ngSubmit"],["productForm","ngForm"],[1,"form-row"],[1,"form-group","col-md-8"],["for","name"],["required","","type","text","id","name","placeholder","Name","name","name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["ngname","ngModel"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","my-3",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){if(1&t){const t=c.Wb();c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"form",3,4),c.cc("ngSubmit",function(){c.Bc(t);const n=c.xc(4);return e.onSubmit(n.valid&&n.value)}),c.Vb(5,"div",5),c.Vb(6,"div",6),c.Vb(7,"label",7),c.Lc(8,"Name brand"),c.Ub(),c.Vb(9,"input",8,9),c.cc("ngModelChange",function(t){return e.brandForm.name=t}),c.Ub(),c.Jc(11,w,2,1,"div",10),c.Ub(),c.Ub(),c.Vb(12,"button",11),c.Lc(13," Submit "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=c.xc(4),n=c.xc(10);c.Cb(9),c.mc("ngClass",c.qc(4,C,n.invalid&&(n.dirty||n.touched)))("ngModel",e.brandForm.name),c.Cb(2),c.mc("ngIf",n.invalid&&(n.dirty||n.touched)),c.Cb(1),c.mc("disabled",!t.valid)}},directives:[y.y,y.n,y.o,y.b,y.u,r.l,y.m,y.p,r.n],styles:[""]}),t})(),x=(()=>{class t{constructor(t,e,n){this.adminService=t,this.route=e,this.router=n,this.brand=new U}ngOnInit(){"edit"===this.route.snapshot.url[0].path&&this.loadBrand()}loadBrand(){const t=this.route.snapshot.paramMap.get("id")||"";this.adminService.getBrandById(t).subscribe(t=>{this.brand=Object.assign({},t),console.log(this.brand)})}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(l),c.Pb(s.a),c.Pb(s.c))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-edit-brand"]],decls:9,vars:1,consts:[[1,"product-edit","mt-5"],[1,"container"],[1,"row"],[1,"col-12"],[1,"tab-panel"],[1,"product-tabset"],["heading","Edit Brand"],[1,"col-lg-8"],[3,"brandForm"]],template:function(t,e){1&t&&(c.Vb(0,"section",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"tabset",5),c.Vb(6,"tab",6),c.Vb(7,"div",7),c.Qb(8,"app-edit-brand-form",8),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&t&&(c.Cb(8),c.mc("brandForm",e.brand))},directives:[v.c,v.a,L],styles:[""]}),t})();const I=[{path:"",component:g},{path:"create",component:x,data:{breadcrumb:"Create"}},{path:"edit/:id",component:x,data:{breadcrumb:"Edit"}}];let S=(()=>{class t{}return t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({factory:function(e){return new(e||t)},imports:[[s.g.forChild(I)],s.g]}),t})(),F=(()=>{class t{}return t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({factory:function(e){return new(e||t)},imports:[[r.c,i.a,S]]}),t})()}}]);