(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9i+i":function(t,e,i){"use strict";i.r(e),i.d(e,"StatisticsModule",function(){return re});var a=i("SVse"),c=i("PCNd"),n=i("iInd"),o=i("OaSA"),r=i("8Y7J"),b=i("AytR"),s=i("IheW");let d=(()=>{class t{constructor(t){this.http=t,this.baseUrl=b.a.apiUrl}getOrders(){return this.http.get(this.baseUrl+"orders/all")}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(s.b))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=i("Tj54"),u=i("LUZP"),m=i("5QHs");const h=["TableOnePaginator"],p=["TableOneSort"],f=["TableTwoPaginator"],g=["TableTwoSort"],C=["TableThreePaginator"],U=["TableThreeSort"];function V(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," ID "),r.Ub())}function w(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",t.id," ")}}function y(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Email "),r.Ub())}function S(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",t.buyerEmail," ")}}function v(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Status "),r.Ub())}function D(t,e){if(1&t&&(r.Vb(0,"td",38),r.Vb(1,"span",39),r.Lc(2),r.Ub(),r.Ub()),2&t){const t=e.$implicit;r.Cb(2),r.Mc(t.status)}}function L(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Total "),r.Ub())}function T(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.total)," ")}}function M(t,e){1&t&&r.Qb(0,"tr",40)}function J(t,e){1&t&&r.Qb(0,"tr",41)}function P(t,e){1&t&&(r.Vb(0,"tr",42),r.Vb(1,"td",43),r.Lc(2,"No data matching the filter "),r.Ub(),r.Ub())}function O(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," ID "),r.Ub())}function k(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",t.id," ")}}function R(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Email "),r.Ub())}function I(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",t.buyerEmail," ")}}function N(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Status "),r.Ub())}function x(t,e){if(1&t&&(r.Vb(0,"td",38),r.Vb(1,"span",44),r.Lc(2),r.Ub(),r.Ub()),2&t){const t=e.$implicit;r.Cb(2),r.Mc(t.status)}}function Q(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Total "),r.Ub())}function $(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.total)," ")}}function q(t,e){1&t&&r.Qb(0,"tr",40)}function E(t,e){1&t&&r.Qb(0,"tr",41)}function H(t,e){1&t&&(r.Vb(0,"tr",42),r.Vb(1,"td",43),r.Lc(2,"No data matching the filter "),r.Ub(),r.Ub())}function z(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," ID "),r.Ub())}function j(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",t.id," ")}}function _(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Email "),r.Ub())}function F(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",t.buyerEmail," ")}}function Y(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Status "),r.Ub())}function A(t,e){if(1&t&&(r.Vb(0,"td",38),r.Vb(1,"span",45),r.Lc(2),r.Ub(),r.Ub()),2&t){const t=e.$implicit;r.Cb(2),r.Mc(t.status)}}function B(t,e){1&t&&(r.Vb(0,"th",37),r.Lc(1," Total "),r.Ub())}function W(t,e){if(1&t&&(r.Vb(0,"td",38),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.total)," ")}}function Z(t,e){1&t&&r.Qb(0,"tr",40)}function G(t,e){1&t&&r.Qb(0,"tr",41)}function K(t,e){1&t&&(r.Vb(0,"tr",42),r.Vb(1,"td",43),r.Lc(2,"No data matching the filter "),r.Ub(),r.Ub())}const X=function(){return["/statistic/revenue"]},tt=function(){return["/statistic/bestselling"]},et=function(){return["/statistic/highestrevenue"]},it=function(){return[5,10,25,100]};let at=(()=>{class t{constructor(t){this.statisticService=t,this.displayedColumns=["id","email","status","total"]}ngOnInit(){this.getOrders()}ngAfterViewInit(){}getOrders(){return this.statisticService.getOrders().subscribe(t=>{this.orders=t,this.dataSourcePending=new o.p,this.dataSourceSuccess=new o.p,this.dataSourceError=new o.p,this.applyData(),console.log(this.dataSourcePending.data),console.log(this.dataSourceSuccess.data),this.dataSourcePending.paginator=this.tableOnePaginator,this.dataSourcePending.sort=this.tableOneSort,this.dataSourceSuccess.paginator=this.tableTwoPaginator,this.dataSourceSuccess.sort=this.tableTwoSort,this.dataSourceError.paginator=this.tableThreePaginator,this.dataSourceError.sort=this.tableThreeSort,console.log(this.orders)},t=>{console.log(t)})}applyData(){this.orders.forEach(t=>{"Pending"==t.status?this.dataSourcePending.data.push(t):"Payment Received"==t.status?this.dataSourceSuccess.data.push(t):this.dataSourceError.data.push(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(d))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-statistics"]],viewQuery:function(t,e){if(1&t&&(r.Pc(h,3),r.Pc(p,3),r.Pc(f,3),r.Pc(g,3),r.Pc(C,3),r.Pc(U,3)),2&t){let t;r.wc(t=r.dc())&&(e.tableOnePaginator=t.first),r.wc(t=r.dc())&&(e.tableOneSort=t.first),r.wc(t=r.dc())&&(e.tableTwoPaginator=t.first),r.wc(t=r.dc())&&(e.tableTwoSort=t.first),r.wc(t=r.dc())&&(e.tableThreePaginator=t.first),r.wc(t=r.dc())&&(e.tableThreeSort=t.first)}},decls:104,vars:21,consts:[[1,"admin-page"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"my-3"],[1,"h2"],[1,"row","my-3"],[1,"col-xs-4","col-md-4"],["type","button",1,"btn","btn-light","btn-block","p-5","text-primary",3,"routerLink"],[2,"display","block"],["aria-hidden","false","aria-label","Example home icon"],[1,"row"],[1,"col-lg-6"],[1,"my-2"],[1,"h3","text-warning"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["TableOneSort","matSort"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","status"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["TableOnePaginator","matPaginator"],[1,"h3","text-success"],["TableTwoSort","matSort"],["TableTwoPaginator","matPaginator"],[1,"row","mt-3"],[1,"col-lg-3"],[1,"h3","text-danger"],["TableThreeSort","matSort"],["TableThreePaginator","matPaginator"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"badge","badge-pill","badge-warning"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-danger"]],template:function(t,e){1&t&&(r.Vb(0,"section",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Vb(4,"div",4),r.Vb(5,"header",5),r.Lc(6,"Statistic Orders"),r.Ub(),r.Ub(),r.Vb(7,"div",6),r.Vb(8,"div",7),r.Vb(9,"button",8),r.Vb(10,"span",9),r.Vb(11,"mat-icon",10),r.Lc(12,"attach_money"),r.Ub(),r.Ub(),r.Lc(13,"Revenue statistics"),r.Ub(),r.Ub(),r.Vb(14,"div",7),r.Vb(15,"button",8),r.Vb(16,"span",9),r.Vb(17,"mat-icon",10),r.Lc(18,"show_chart"),r.Ub(),r.Ub(),r.Lc(19,"Best selling statistics"),r.Ub(),r.Ub(),r.Vb(20,"div",7),r.Vb(21,"button",8),r.Vb(22,"span",9),r.Vb(23,"mat-icon",10),r.Lc(24,"recommend"),r.Ub(),r.Ub(),r.Lc(25,"Highest revenue statistics"),r.Ub(),r.Ub(),r.Ub(),r.Vb(26,"div",11),r.Vb(27,"div",12),r.Vb(28,"div",13),r.Vb(29,"header",14),r.Vb(30,"strong"),r.Lc(31,"Orders Pending"),r.Ub(),r.Ub(),r.Ub(),r.Vb(32,"div",15),r.Vb(33,"table",16,17),r.Tb(35,18),r.Jc(36,V,2,0,"th",19),r.Jc(37,w,2,1,"td",20),r.Sb(),r.Tb(38,21),r.Jc(39,y,2,0,"th",19),r.Jc(40,S,2,1,"td",20),r.Sb(),r.Tb(41,22),r.Jc(42,v,2,0,"th",19),r.Jc(43,D,3,1,"td",20),r.Sb(),r.Tb(44,23),r.Jc(45,L,2,0,"th",19),r.Jc(46,T,3,3,"td",20),r.Sb(),r.Jc(47,M,1,0,"tr",24),r.Jc(48,J,1,0,"tr",25),r.Jc(49,P,3,0,"tr",26),r.Ub(),r.Qb(50,"mat-paginator",27,28),r.Ub(),r.Ub(),r.Vb(52,"div",12),r.Vb(53,"div",13),r.Vb(54,"header",29),r.Vb(55,"strong"),r.Lc(56,"Orders Payment Received"),r.Ub(),r.Ub(),r.Ub(),r.Vb(57,"div",15),r.Vb(58,"table",16,30),r.Tb(60,18),r.Jc(61,O,2,0,"th",19),r.Jc(62,k,2,1,"td",20),r.Sb(),r.Tb(63,21),r.Jc(64,R,2,0,"th",19),r.Jc(65,I,2,1,"td",20),r.Sb(),r.Tb(66,22),r.Jc(67,N,2,0,"th",19),r.Jc(68,x,3,1,"td",20),r.Sb(),r.Tb(69,23),r.Jc(70,Q,2,0,"th",19),r.Jc(71,$,3,3,"td",20),r.Sb(),r.Jc(72,q,1,0,"tr",24),r.Jc(73,E,1,0,"tr",25),r.Jc(74,H,3,0,"tr",26),r.Ub(),r.Qb(75,"mat-paginator",27,31),r.Ub(),r.Ub(),r.Ub(),r.Vb(77,"div",32),r.Qb(78,"div",33),r.Vb(79,"div",12),r.Vb(80,"div",13),r.Vb(81,"header",34),r.Vb(82,"strong"),r.Lc(83,"Orders Payment Failed"),r.Ub(),r.Ub(),r.Ub(),r.Vb(84,"div",15),r.Vb(85,"table",16,35),r.Tb(87,18),r.Jc(88,z,2,0,"th",19),r.Jc(89,j,2,1,"td",20),r.Sb(),r.Tb(90,21),r.Jc(91,_,2,0,"th",19),r.Jc(92,F,2,1,"td",20),r.Sb(),r.Tb(93,22),r.Jc(94,Y,2,0,"th",19),r.Jc(95,A,3,1,"td",20),r.Sb(),r.Tb(96,23),r.Jc(97,B,2,0,"th",19),r.Jc(98,W,3,3,"td",20),r.Sb(),r.Jc(99,Z,1,0,"tr",24),r.Jc(100,G,1,0,"tr",25),r.Jc(101,K,3,0,"tr",26),r.Ub(),r.Qb(102,"mat-paginator",27,36),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Cb(9),r.mc("routerLink",r.pc(15,X)),r.Cb(6),r.mc("routerLink",r.pc(16,tt)),r.Cb(6),r.mc("routerLink",r.pc(17,et)),r.Cb(12),r.mc("dataSource",e.dataSourcePending),r.Cb(14),r.mc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.mc("matRowDefColumns",e.displayedColumns),r.Cb(2),r.mc("pageSizeOptions",r.pc(18,it)),r.Cb(8),r.mc("dataSource",e.dataSourceSuccess),r.Cb(14),r.mc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.mc("matRowDefColumns",e.displayedColumns),r.Cb(2),r.mc("pageSizeOptions",r.pc(19,it)),r.Cb(10),r.mc("dataSource",e.dataSourceError),r.Cb(14),r.mc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.mc("matRowDefColumns",e.displayedColumns),r.Cb(2),r.mc("pageSizeOptions",r.pc(20,it)))},directives:[n.d,l.a,o.o,u.a,o.c,o.i,o.b,o.k,o.n,o.l,m.a,o.h,u.b,o.a,o.j,o.m],pipes:[a.d],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px}"]}),t})();var ct=i("aHM3"),nt=i("s7LF"),ot=i("ienR");const rt=function(){return{adaptivePosition:!0}};function bt(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",16),r.Vb(1,"input",17),r.cc("ngModelChange",function(e){return r.Bc(t),r.gc().daterangepickerModel=e}),r.Ub(),r.Ub()}if(2&t){const t=r.gc();r.Cb(1),r.mc("bsConfig",r.pc(2,rt))("ngModel",t.daterangepickerModel)}}const st=function(){return{minMode:"month",adaptivePosition:!0,dateInputFormat:"MMMM YYYY"}};function dt(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",16),r.Vb(1,"input",18),r.cc("ngModelChange",function(e){return r.Bc(t),r.gc().datepickerModel=e}),r.Ub(),r.Ub()}if(2&t){const t=r.gc();r.Cb(1),r.mc("bsConfig",r.pc(2,st))("ngModel",t.datepickerModel)}}function lt(t,e){1&t&&(r.Vb(0,"th",31),r.Lc(1," Id "),r.Ub())}function ut(t,e){if(1&t&&(r.Vb(0,"td",32),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",t.id," ")}}function mt(t,e){1&t&&r.Qb(0,"td",33)}function ht(t,e){1&t&&(r.Vb(0,"th",31),r.Lc(1," Email "),r.Ub())}function pt(t,e){if(1&t&&(r.Vb(0,"td",32),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",t.buyerEmail," ")}}function ft(t,e){1&t&&r.Qb(0,"td",33)}function gt(t,e){1&t&&(r.Vb(0,"th",31),r.Lc(1," Order Date "),r.Ub())}function Ct(t,e){if(1&t&&(r.Vb(0,"td",32),r.Lc(1),r.hc(2,"date"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.orderDate)," ")}}function Ut(t,e){1&t&&(r.Vb(0,"td",33),r.Lc(1,"Total"),r.Ub())}function Vt(t,e){1&t&&(r.Vb(0,"th",31),r.Lc(1," Cost "),r.Ub())}function wt(t,e){if(1&t&&(r.Vb(0,"td",32),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.total)," ")}}function yt(t,e){if(1&t&&(r.Vb(0,"td",33),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=r.gc(2);r.Cb(1),r.Nc(" ",r.ic(2,1,t.getTotalCost())," ")}}function St(t,e){1&t&&r.Qb(0,"tr",34)}function vt(t,e){1&t&&r.Qb(0,"tr",35)}function Dt(t,e){1&t&&r.Qb(0,"tr",36)}function Lt(t,e){if(1&t&&(r.Vb(0,"div",19),r.Vb(1,"table",20),r.Tb(2,21),r.Jc(3,lt,2,0,"th",22),r.Jc(4,ut,2,1,"td",23),r.Jc(5,mt,1,0,"td",24),r.Sb(),r.Tb(6,25),r.Jc(7,ht,2,0,"th",22),r.Jc(8,pt,2,1,"td",23),r.Jc(9,ft,1,0,"td",24),r.Sb(),r.Tb(10,26),r.Jc(11,gt,2,0,"th",22),r.Jc(12,Ct,3,3,"td",23),r.Jc(13,Ut,2,0,"td",24),r.Sb(),r.Tb(14,27),r.Jc(15,Vt,2,0,"th",22),r.Jc(16,wt,3,3,"td",23),r.Jc(17,yt,3,3,"td",24),r.Sb(),r.Jc(18,St,1,0,"tr",28),r.Jc(19,vt,1,0,"tr",29),r.Jc(20,Dt,1,0,"tr",30),r.Ub(),r.Ub()),2&t){const t=r.gc();r.Cb(1),r.mc("dataSource",t.transactions),r.Cb(17),r.mc("matHeaderRowDef",t.displayedColumns),r.Cb(1),r.mc("matRowDefColumns",t.displayedColumns),r.Cb(1),r.mc("matFooterRowDef",t.displayedColumns)("matFooterRowDefSticky",!0)}}let Tt=(()=>{class t{constructor(t){this.statisticService=t,this.displayedColumns=["item","email","orderDate","cost"],this.footer=["item","cost"],this.transactions=[],this.radioModel="month"}ngOnInit(){this.getOrders()}getTotalCost(){return this.transactions.map(t=>t.total).reduce((t,e)=>t+e,0)}getOrders(){return this.statisticService.getOrders().subscribe(t=>{this.orders=t,this.transactions=t,console.log(this.orders)},t=>{console.log(t)})}daysInMonth(t,e){return new Date(e,t,0).getDate()}onSubmit(){if("month"!==this.radioModel)this.transactions=this.orders.filter(t=>new Date(t.orderDate).getTime()>=this.daterangepickerModel[0].getTime()&&new Date(t.orderDate).getTime()<=this.daterangepickerModel[1].getTime());else{const t=new Date(this.datepickerModel.getFullYear(),this.datepickerModel.getMonth(),1),e=new Date(this.datepickerModel.getFullYear(),this.datepickerModel.getMonth(),this.daysInMonth(this.datepickerModel.getMonth()+1,this.datepickerModel.getFullYear()));this.transactions=this.orders.filter(i=>new Date(i.orderDate).getTime()>=t.getTime()&&new Date(i.orderDate).getTime()<=e.getTime())}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(d))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-statistic-order"]],decls:21,vars:4,consts:[[1,"admin-page"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"my-3"],[1,"h2"],[1,"row","my-3"],[1,"col-xs-12","col-md-12"],["btnRadioGroup","",1,"btn-group",3,"ngModel","ngModelChange"],["btnRadio","month",1,"btn","btn-primary"],["btnRadio","custom",1,"btn","btn-primary","ml-3"],[1,"row"],["class","col-xs-12 col-12 col-md-4 form-group",4,"ngIf"],[1,"col-xs-12","col-12","col-md-3","form-group"],["type","button",1,"btn","btn-success",3,"click"],["class","example-container mat-elevation-z8 mt-2",4,"ngIf"],[1,"col-xs-12","col-12","col-md-4","form-group"],["type","text","placeholder","Daterangepicker","bsDaterangepicker","",1,"form-control",3,"bsConfig","ngModel","ngModelChange"],["type","text","placeholder","Daterangepicker","bsDatepicker","",1,"form-control",3,"bsConfig","ngModel","ngModelChange"],[1,"example-container","mat-elevation-z8","mt-2"],["mat-table","",3,"dataSource"],["matColumnDef","item"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","email"],["matColumnDef","orderDate"],["matColumnDef","cost"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(r.Vb(0,"section",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Vb(4,"div",4),r.Vb(5,"header",5),r.Lc(6,"Revenue"),r.Ub(),r.Ub(),r.Vb(7,"div",6),r.Vb(8,"div",7),r.Vb(9,"div",8),r.cc("ngModelChange",function(t){return e.radioModel=t}),r.Vb(10,"label",9),r.Lc(11,"Monthly revenue"),r.Ub(),r.Vb(12,"label",10),r.Lc(13,"Custom revenue"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(14,"div",11),r.Jc(15,bt,2,3,"div",12),r.Jc(16,dt,2,3,"div",12),r.Vb(17,"div",13),r.Vb(18,"button",14),r.cc("click",function(){return e.onSubmit()}),r.Lc(19,"Submit"),r.Ub(),r.Ub(),r.Ub(),r.Jc(20,Lt,21,5,"div",15),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Cb(9),r.mc("ngModel",e.radioModel),r.Cb(6),r.mc("ngIf","custom"==e.radioModel),r.Cb(1),r.mc("ngIf","month"==e.radioModel),r.Cb(4),r.mc("ngIf",e.orders))},directives:[ct.b,nt.m,nt.p,ct.a,a.n,ot.e,nt.b,ot.d,ot.b,ot.a,o.o,o.c,o.i,o.b,o.e,o.k,o.n,o.g,o.h,o.a,o.d,o.j,o.m,o.f],pipes:[a.f,a.d],styles:[".example-container[_ngcontent-%COMP%]{height:270px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}tr.mat-footer-row[_ngcontent-%COMP%]{font-weight:700}.mat-table-sticky[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0}"]}),t})();var Mt=i("hrfs");function Jt(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1,"ID"),r.Ub())}function Pt(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Mc(t.id)}}function Ot(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1," Name "),r.Ub())}function kt(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc("",t.productName,"%")}}function Rt(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1," Quantity "),r.Ub())}function It(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Mc(t.quantity)}}function Nt(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1," Price "),r.Ub())}function xt(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.price)," ")}}function Qt(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1," Total "),r.Ub())}function $t(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.price*t.quantity)," ")}}function qt(t,e){1&t&&r.Qb(0,"tr",28)}function Et(t,e){1&t&&r.Qb(0,"tr",29)}function Ht(t,e){if(1&t&&r.Qb(0,"canvas",30),2&t){const t=r.gc();r.mc("data",t.pieChartData)("labels",t.pieChartLabels)("chartType",t.pieChartType)("options",t.pieChartOptions)("plugins",t.pieChartPlugins)("legend",t.pieChartLegend)}}const zt=function(){return{adaptivePosition:!0}},jt=function(){return[5,10,25,100]};function _t(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1,"ID"),r.Ub())}function Ft(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Mc(t.id)}}function Yt(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1," Name "),r.Ub())}function At(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc("",t.productName,"%")}}function Bt(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1," Quantity "),r.Ub())}function Wt(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Mc(t.quantity)}}function Zt(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1," Price "),r.Ub())}function Gt(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.price)," ")}}function Kt(t,e){1&t&&(r.Vb(0,"th",26),r.Lc(1," Total "),r.Ub())}function Xt(t,e){if(1&t&&(r.Vb(0,"td",27),r.Lc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=e.$implicit;r.Cb(1),r.Nc(" ",r.ic(2,1,t.price*t.quantity)," ")}}function te(t,e){1&t&&r.Qb(0,"tr",28)}function ee(t,e){1&t&&r.Qb(0,"tr",29)}function ie(t,e){if(1&t&&r.Qb(0,"canvas",30),2&t){const t=r.gc();r.mc("data",t.pieChartData)("labels",t.pieChartLabels)("chartType",t.pieChartType)("options",t.pieChartOptions)("plugins",t.pieChartPlugins)("legend",t.pieChartLegend)}}const ae=function(){return{adaptivePosition:!0}},ce=function(){return[5,10,25,100]},ne=[{path:"",component:at},{path:"revenue",component:Tt,data:{breadcrumb:"Revenue"}},{path:"bestselling",component:(()=>{class t{constructor(t){this.statisticService=t,this.displayedColumns=["name","quantity","price","cost"],this.pieChartOptions={responsive:!0},this.pieChartData=[30,50,20,10,10],this.pieChartType="pie",this.pieChartLegend=!0,this.pieChartPlugins=[],this.orders=[],Object(Mt.d)(),Object(Mt.c)()}ngOnInit(){}filterDataTable(){let t=[];this.pieChartLabels=[],this.orders.forEach(e=>{"Payment Received"==e.status&&e.orderItems.forEach(e=>{let i=t.findIndex(t=>t.productId==e.productId);-1!=i?t[i].quantity=t[i].quantity+e.quantity:t.push(e)})}),t.sort((t,e)=>e.quantity-t.quantity),this.pieChartData=[],t.slice(0,5).filter(t=>{this.pieChartLabels.push(t.productName),this.pieChartData.push(t.quantity)}),this.dataSource=new o.p(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(t)}getOrders(){return this.statisticService.getOrders().subscribe(t=>{this.orders=t,this.onSubmit()},t=>{console.log(t)})}daysInMonth(t,e){return new Date(e,t,0).getDate()}onSubmit(){Array.isArray(this.daterangepickerModel)&&(console.log(this.orders),this.orders=this.orders.filter(t=>new Date(t.orderDate).getTime()>=this.daterangepickerModel[0].getTime()&&new Date(t.orderDate).getTime()<=this.daterangepickerModel[1].getTime())),this.filterDataTable()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(d))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-best-selling"]],viewQuery:function(t,e){if(1&t&&(r.Pc(m.a,1),r.Pc(u.a,1)),2&t){let t;r.wc(t=r.dc())&&(e.paginator=t.first),r.wc(t=r.dc())&&(e.sort=t.first)}},decls:38,vars:9,consts:[[1,"admin-page"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"my-3"],[1,"h2"],[1,"row"],[1,"col-xs-12","col-12","col-md-4","form-group"],["type","text","placeholder","Daterangepicker","bsDaterangepicker","",1,"form-control",3,"bsConfig","ngModel","ngModelChange"],[1,"col-xs-12","col-12","col-md-3","form-group"],["type","button",1,"btn","btn-success",3,"click"],[1,"col-sm-6"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","quantity"],["matColumnDef","price"],["matColumnDef","cost"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[1,"chart-wrapper"],["baseChart","",3,"data","labels","chartType","options","plugins","legend",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["baseChart","",3,"data","labels","chartType","options","plugins","legend"]],template:function(t,e){1&t&&(r.Vb(0,"section",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Vb(4,"div",4),r.Vb(5,"header",5),r.Lc(6,"Best selling"),r.Ub(),r.Ub(),r.Vb(7,"div",6),r.Vb(8,"div",7),r.Vb(9,"input",8),r.cc("ngModelChange",function(t){return e.daterangepickerModel=t}),r.Ub(),r.Ub(),r.Vb(10,"div",9),r.Vb(11,"button",10),r.cc("click",function(){return e.getOrders()}),r.Lc(12," Submit "),r.Ub(),r.Ub(),r.Ub(),r.Vb(13,"div",6),r.Vb(14,"div",11),r.Vb(15,"div",12),r.Vb(16,"table",13),r.Tb(17,14),r.Jc(18,Jt,2,0,"th",15),r.Jc(19,Pt,2,1,"td",16),r.Sb(),r.Tb(20,17),r.Jc(21,Ot,2,0,"th",15),r.Jc(22,kt,2,1,"td",16),r.Sb(),r.Tb(23,18),r.Jc(24,Rt,2,0,"th",15),r.Jc(25,It,2,1,"td",16),r.Sb(),r.Tb(26,19),r.Jc(27,Nt,2,0,"th",15),r.Jc(28,xt,3,3,"td",16),r.Sb(),r.Tb(29,20),r.Jc(30,Qt,2,0,"th",15),r.Jc(31,$t,3,3,"td",16),r.Sb(),r.Jc(32,qt,1,0,"tr",21),r.Jc(33,Et,1,0,"tr",22),r.Ub(),r.Qb(34,"mat-paginator",23),r.Ub(),r.Ub(),r.Vb(35,"div",11),r.Vb(36,"div",24),r.Jc(37,Ht,1,6,"canvas",25),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Cb(9),r.mc("bsConfig",r.pc(7,zt))("ngModel",e.daterangepickerModel),r.Cb(7),r.mc("dataSource",e.dataSource),r.Cb(16),r.mc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.mc("matRowDefColumns",e.displayedColumns),r.Cb(1),r.mc("pageSizeOptions",r.pc(8,jt)),r.Cb(3),r.mc("ngIf",e.pieChartLabels))},directives:[ot.e,nt.b,ot.d,nt.m,nt.p,o.o,u.a,o.c,o.i,o.b,o.k,o.n,m.a,a.n,o.h,u.b,o.a,o.j,o.m,Mt.a],pipes:[a.d],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})(),data:{breadcrumb:"Best selling"}},{path:"highestrevenue",component:(()=>{class t{constructor(t){this.statisticService=t,this.displayedColumns=["name","quantity","price","cost"],this.pieChartOptions={responsive:!0},this.pieChartData=[30,50,20,10,10],this.pieChartType="pie",this.pieChartLegend=!0,this.pieChartPlugins=[],this.orders=[],Object(Mt.d)(),Object(Mt.c)()}ngOnInit(){}filterDataTable(){let t=[];this.pieChartLabels=[],this.orders.forEach(e=>{"Payment Received"==e.status&&e.orderItems.forEach(e=>{let i=t.findIndex(t=>t.productId==e.productId);-1!=i?t[i].quantity=t[i].quantity+e.quantity:t.push(e)})}),t.sort((t,e)=>e.quantity*e.price-t.quantity*t.price),this.pieChartData=[],t.slice(0,5).filter(t=>{this.pieChartLabels.push(t.productName),this.pieChartData.push(t.quantity*t.price)}),this.dataSource=new o.p(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(t)}getOrders(){return this.statisticService.getOrders().subscribe(t=>{this.orders=t,this.onSubmit()},t=>{console.log(t)})}daysInMonth(t,e){return new Date(e,t,0).getDate()}onSubmit(){Array.isArray(this.daterangepickerModel)&&(console.log(this.orders),this.orders=this.orders.filter(t=>new Date(t.orderDate).getTime()>=this.daterangepickerModel[0].getTime()&&new Date(t.orderDate).getTime()<=this.daterangepickerModel[1].getTime())),this.filterDataTable()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(d))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-highest-revenue"]],viewQuery:function(t,e){if(1&t&&(r.Pc(m.a,1),r.Pc(u.a,1)),2&t){let t;r.wc(t=r.dc())&&(e.paginator=t.first),r.wc(t=r.dc())&&(e.sort=t.first)}},decls:38,vars:9,consts:[[1,"admin-page"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"my-3"],[1,"h2"],[1,"row"],[1,"col-xs-12","col-12","col-md-4","form-group"],["type","text","placeholder","Daterangepicker","bsDaterangepicker","",1,"form-control",3,"bsConfig","ngModel","ngModelChange"],[1,"col-xs-12","col-12","col-md-3","form-group"],["type","button",1,"btn","btn-success",3,"click"],[1,"col-sm-6"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","quantity"],["matColumnDef","price"],["matColumnDef","cost"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[1,"chart-wrapper"],["baseChart","",3,"data","labels","chartType","options","plugins","legend",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["baseChart","",3,"data","labels","chartType","options","plugins","legend"]],template:function(t,e){1&t&&(r.Vb(0,"section",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Vb(4,"div",4),r.Vb(5,"header",5),r.Lc(6,"Highest revenue"),r.Ub(),r.Ub(),r.Vb(7,"div",6),r.Vb(8,"div",7),r.Vb(9,"input",8),r.cc("ngModelChange",function(t){return e.daterangepickerModel=t}),r.Ub(),r.Ub(),r.Vb(10,"div",9),r.Vb(11,"button",10),r.cc("click",function(){return e.getOrders()}),r.Lc(12," Submit "),r.Ub(),r.Ub(),r.Ub(),r.Vb(13,"div",6),r.Vb(14,"div",11),r.Vb(15,"div",12),r.Vb(16,"table",13),r.Tb(17,14),r.Jc(18,_t,2,0,"th",15),r.Jc(19,Ft,2,1,"td",16),r.Sb(),r.Tb(20,17),r.Jc(21,Yt,2,0,"th",15),r.Jc(22,At,2,1,"td",16),r.Sb(),r.Tb(23,18),r.Jc(24,Bt,2,0,"th",15),r.Jc(25,Wt,2,1,"td",16),r.Sb(),r.Tb(26,19),r.Jc(27,Zt,2,0,"th",15),r.Jc(28,Gt,3,3,"td",16),r.Sb(),r.Tb(29,20),r.Jc(30,Kt,2,0,"th",15),r.Jc(31,Xt,3,3,"td",16),r.Sb(),r.Jc(32,te,1,0,"tr",21),r.Jc(33,ee,1,0,"tr",22),r.Ub(),r.Qb(34,"mat-paginator",23),r.Ub(),r.Ub(),r.Vb(35,"div",11),r.Vb(36,"div",24),r.Jc(37,ie,1,6,"canvas",25),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Cb(9),r.mc("bsConfig",r.pc(7,ae))("ngModel",e.daterangepickerModel),r.Cb(7),r.mc("dataSource",e.dataSource),r.Cb(16),r.mc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.mc("matRowDefColumns",e.displayedColumns),r.Cb(1),r.mc("pageSizeOptions",r.pc(8,ce)),r.Cb(3),r.mc("ngIf",e.pieChartLabels))},directives:[ot.e,nt.b,ot.d,nt.m,nt.p,o.o,u.a,o.c,o.i,o.b,o.k,o.n,m.a,a.n,o.h,u.b,o.a,o.j,o.m,Mt.a],pipes:[a.d],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})(),data:{breadcrumb:"Highest revenue"}},{path:"edit/:id",component:Tt,data:{breadcrumb:"Edit"}}];let oe=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[n.g.forChild(ne)],n.g]}),t})(),re=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[a.c,c.a,oe]]}),t})()}}]);