<div class="container emp-profile">
  <form
    class="mt-4"
    #productForm="ngForm"
    (ngSubmit)="onSubmit(productForm.valid && productForm.value)"
  >
    <div class="row">
      <div class="col-md-4">
        <div class="profile-img">
          <img
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS52y5aInsxSm31CvHOFHWujqUx_wWTS9iM6s7BAm21oEN_RiGoog"
            alt=""
          />
          <div class="file btn btn-lg btn-primary">
            Change Photo
            <input type="file" name="file" />
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="profile-head">
          <h5>
            {{ user.displayName }}
          </h5>
          <h6>
            {{ user.email }}
          </h6>
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
              <a
                class="nav-link active"
                id="home-tab"
                data-toggle="tab"
                href="#home"
                role="tab"
                aria-controls="home"
                aria-selected="true"
                >About</a
              >
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-2" *ngIf="toggleEdit == false">
        <input
          type="submit"
          class="profile-edit-btn"
          name="btnAddMore"
          value="Edit Profile"
          (click)="closeOrOpenToggleEdit()"
        />
      </div>
    </div>
    <div class="row">
      <div class="col-md-4">
        <div class="profile-work">
          <p>WORK LINK</p>
          <a  routerLink="/account/edit" style="color: blue;"
          routerLinkActive="active" href="">Profile</a><br />
          <a routerLink="/account/changepassword"
          routerLinkActive="active" href="">Change Password</a><br />
        </div>
      </div>
      <div class="col-md-8">
        <div class="tab-content profile-tab" id="myTabContent">
          <div
            class="tab-pane fade show active"
            id="home"
            role="tabpanel"
            aria-labelledby="home-tab"
          >
            <div class="row mt-2">
              <div class="col-md-6">
                <label>Display Name</label>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == false">
                <p>{{ user.displayName }}</p>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == true">
                <input
                  [ngClass]="{
                    'is-invalid':
                      displayname.invalid &&
                      (displayname.dirty || displayname.touched)
                  }"
                  required
                  class="form-control"
                  type="text"
                  placeholder="displayname"
                  name="displayName"
                  #displayname="ngModel"
                  [(ngModel)]="profileForm.displayName"
                />
                <div
                  *ngIf="
                    displayname.invalid &&
                    (displayname.dirty || displayname.touched)
                  "
                  class="invalid-feedback"
                >
                  <div *ngIf="displayname.errors?.required">
                    Display name is required
                  </div>
                </div>
              </div>
            </div>

            <div class="row mt-2">
              <div class="col-md-6">
                <label>First Name</label>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == false">
                <p>{{ user.firstName }}</p>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == true">
                <input
                  [ngClass]="{
                    'is-invalid':
                      firstName.invalid &&
                      (firstName.dirty || firstName.touched)
                  }"
                  required
                  class="form-control"
                  type="text"
                  placeholder="firstName"
                  name="firstName"
                  #firstName="ngModel"
                  [(ngModel)]="profileForm.firstName"
                />
                <div
                  *ngIf="
                    firstName.invalid && (firstName.dirty || firstName.touched)
                  "
                  class="invalid-feedback"
                >
                  <div *ngIf="firstName.errors?.required">
                    First name is required
                  </div>
                </div>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-md-6">
                <label>Last Name</label>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == false">
                <p>{{ user.lastName }}</p>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == true">
                <input
                  [ngClass]="{
                    'is-invalid':
                      lastName.invalid && (lastName.dirty || lastName.touched)
                  }"
                  required
                  class="form-control"
                  type="text"
                  placeholder="lastName"
                  name="lastName"
                  #lastName="ngModel"
                  [(ngModel)]="profileForm.lastName"
                />
                <div
                  *ngIf="
                    lastName.invalid && (lastName.dirty || lastName.touched)
                  "
                  class="invalid-feedback"
                >
                  <div *ngIf="lastName.errors?.required">
                    Last name is required
                  </div>
                </div>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-md-6">
                <label>Phone</label>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == false">
                <p>{{ user.phone }}</p>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == true">
                <input
                  [ngClass]="{
                    'is-invalid':
                      phone.invalid && (phone.dirty || phone.touched)
                  }"
                  required
                  class="form-control"
                  type="text"
                  placeholder="phone"
                  name="phone"
                  #phone="ngModel"
                  [(ngModel)]="profileForm.phone"
                />
                <div
                  *ngIf="phone.invalid && (phone.dirty || phone.touched)"
                  class="invalid-feedback"
                >
                  <div *ngIf="phone.errors?.required">Phone is required</div>
                </div>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-md-6">
                <label>Birthday</label>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == false">
                <p>{{ user.birthday | date: "MM/dd/yyyy" }}</p>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == true">
                <input
                  [ngClass]="{
                    'is-invalid':
                      birthday.invalid && (birthday.dirty || birthday.touched)
                  }"
                  required
                  class="form-control"
                  type="date"
                  placeholder="birthday"
                  name="birthday"
                  #birthday="ngModel"
                  [ngModel]="profileForm.birthday | date: 'yyyy-MM-dd'"
                  (ngModelChange)="profileForm.birthday = $event"
                />

                <div
                  *ngIf="
                    birthday.invalid && (birthday.dirty || birthday.touched)
                  "
                  class="invalid-feedback"
                >
                  <div *ngIf="birthday.errors?.required">
                    Birthday is required
                  </div>
                </div>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-md-6">
                <label>Gender</label>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == false">
                <p>{{ user.gender }}</p>
              </div>
              <div class="col-md-6" *ngIf="toggleEdit == true">
                <select
                  id="type"
                  class="form-control"
                  name="gender"
                  [(ngModel)]="profileForm.gender"
                  required
                >
                  <option
                    *ngFor="let item of optionGender"
                    [selected]="profileForm.gender == item"
                    [ngValue]="item"
                  >
                    {{ item }}
                  </option>
                </select>
              </div>
            </div>
            <div class="row mt-3" *ngIf="toggleEdit == true">
              <div class="col-md-6">
                <button
                  [disabled]="!productForm.valid"
                  type="submit"
                  class="btn btn-primary my-3"
                >
                  Submit
                </button>
                <button
                  (click)="closeOrOpenToggleEdit()"
                  type="submit"
                  class="btn btn-secondary ml-2 my-3"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
